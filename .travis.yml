language: java
dist: xenial
os: linux
jdk:
- openjdk11
cache:
  directories:
  - "$HOME/.m2/repository/"
before_install:
- openssl aes-256-cbc -K $encrypted_352da9e6f448_key -iv $encrypted_352da9e6f448_iv
  -in travis/secrets.tar.enc -out travis/local.secrets.tar -d
- tar xv -C travis -f travis/local.secrets.tar
# modeled off of https://docs.travis-ci.com/user/pull-requests/
script:
  - 'if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then mvn -Prelease deploy --settings settings.xml; fi'
  - 'if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then mvn -Prelease verify; fi'

env:
  global:
  - secure: mMsRGGivOOeA8iTT1l7MJcx6U/kSnYkZGsFVid0pdMweskrxXbcgiClzPp29LiiOWi5X+zoAYVAFYKxU+Gb3BewQ57hFanjOS97oizqe6oLjuC5qJwlZ/9AXNb+9eaQiXN2AAWecHCO8UhLhNrEPlvfhX7wp5CuyavdmC5J76yTPvghtU3npJMOMCTfCaoMknZJ+tUPzKRPlunwVS2mIo2o8fn8rcMh3hQwrZRdu3lFyHMuuGnMdJ4MtSikjvYsYl0AtYpnlbuV3BIh4ugKlhkMl/fa3y8RS+OuBm8uitCkS1I58fNH3AjXGVHMsD/7YNvGzAHApdp426Ugzl7oZdwn/vnPm+kItMufnsSgK4l6768ab+xjuT01lfdAgqCmLuV9/IHtpUIxiZMkhJ2/3ug1JHuPziKWld4tp1gsWo2/Mc/i8x4SWfagUsDCCmcpiRLw4fOFPU3BRwb2nXsmwkRQxdiJwYso3xPL1q0rorv772XYkCAqwQI7tfNPTQ4pnpgZmaXxgWdiGFSnjfbw+rmURdGZ58Z9a7YEXCPpaVTT4Y/z2jF+12+v7YL1W4XV+5/3fCR2YYegjgyX1vZE0JP5gPIr7dLtDwD/Z64Vshg14VfJYecAlaTLx0peClf8u0M/CWqunv/xbApdEWCCP8TIdyvnVcOdpHC1TqjNkMKU=
  - secure: RJlgx6U1wZjjyajvx0owBNt0ggV2RJTNvPR6OcYCkhdFlOenOB5S3pRkLLNwudK32Y8pCRl+29h7uylsgF3bhHOpi8CTeTM+lSx4wzsfnLQZtt+s7aEXgqK+X5X4BAnrP8k3qsgYczuXOj2zEOGs5IDvdStqz/E4/gDaIeVYf9UAxe/HNzVxGLcvf/QP5TF5LBotQM2G9Nq+y/zuZ+GWgCmxpvbdoljHZPGxo3wei86FecRY125enSQYWUOnK/DTZkl2upq8fGZm6eJpBLZ6997F2Yn1zmiNK92+C35f9XjQMXzI+XJJnMcSkRv0qP9q1LnmrTX6ffBgVXMgxdMQYvu6OZX/jbUGzT8ut/HFW81Aq+r3FuNbiPrUrweeaMdYeAf632OFECqpejgPOMM53+3b3DmSq+sWesAlUbPq+hc7vEen8U/C4wjERz+eqPEdgTNs32pV2NxIKeejDuTZsR78goGPaDCiD3lof4lddg1RQEnAQxcis+0lapSVHaZKAu93CHYmeov/sBJ45iKEGWGPZ38BtROYcKpdfMhuGAF1+IDMH/m+PfpurQghylTRjEEog8cg5BSjlFDkLPi2k2RPMHoxxrwU1ROLyQ3B0lODY9GWvmGCaac6d7CDR4gSkEg/xOE9Zahv4FyW/peLjKpWymQBtKsMExlaKv6ttug=
  - secure: Q9Fhj7cMnJTXRXnUtin48miUyn3JslyUM0WIVSLSGaihtenp+NCokPGFOA3BSBsBk7EBNfq0yaAZZv9N4osO67Y7LxZVNIdj7EYjBG9m5ercl5X2AzSTSVKCCMwLBMgcuGZtuujVeMWZbtMW4V2WO5scFrxxFSxQKdKprWkt/cbt+QMYQKyiP+vLGtxU7tOtHCm/ka9DFzssOolR5DacujHmfkxM1Sdd4VoxEvhq9lkaiwLwbMdsOHXNigF5AHfaY3viV2mZCSqOgL7CT4YsBBSkRJg9Rf7hrmEXYMNlgjDVt+93Ow32nUF/WSaFJOXeEfhmR8lSGUsg/UWGjOIfwkKdGKPdLI+TG8hgd8lkzkopHAeTZFjJMr7O4JipbUQ0fJM5HXVhI93+2jekJyTPwaF8MNb0cpbL5lj+6BmXDc+iJsqAKL9QKstH/pSYMnermZyTRi7ayFzJxla8GfnG4YMykgwEg5CLQTmFoQ1CUm2jHPa8faRM+5zDn2J7qRtlsoEDZ0x0ZdpEOmgELzp5EcI/V7XlETzdg9PjwDC8adXY8zK7ecvcMeYYIoSe7VhUDGgzQQ+rgAH4XiVcEcMp+TdIPFIjx9RjCuy3Qiklu8mA9wCpJeAtfvej5AHGa/aqKlFARFMc+IP9B4D54AeU4Br3nz9KpNeGwXC5of9PhRc=
